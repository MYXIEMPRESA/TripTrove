<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Principal - TripTrove</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Página Principal</title>
        <link rel="stylesheet" href="CSS/principal.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <!-- Enlace a Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- Enlaces de Bootstrap CSS y JavaScript -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <style>
            #ubicacionesList {
                list-style: none;
                padding: 0;
                display: flex;
                flex-wrap: wrap;
                X
                justify-content: space-around;
            }

            button {
                border: 1px solid #ddd;
                margin: 10px;
                padding: 15px;
                border-radius: 8px;
                background-color: #f9f9f9;
                flex: 0 1 calc(30% - 20px);
                box-sizing: border-box;
                cursor: pointer;
                transition: background-color 0.3s;
                text-align: left;
            }

            button:hover {
                background-color: #e0e0e0;
            }

            button img {
                max-width: 300px;
                max-height: 300px;
                height: auto;
                border-radius: 8px;
                margin-top: 10px;
                display: block;
                margin: 0 auto;
            }
        </style>
    </head>
    <body>
        <nav class="navbar">
            <h2>Trip Trove</h2>
            <div class="search-bar">
                <input type="text" placeholder="¿A dónde vamos?" class="search-input">
                <button class="search-button"><i class="material-symbols-outlined">search</i></button>
            </div>
            <div class="nav-buttons">
                <a href="jsp/cerrarsesion.jsp"><button class="logout-button">Cerrar Sesión</button></a>
                <a href="mapa.html"><button class="location-button"><span class="material-symbols-outlined">location_on</span></button></a>
                <button class="user-button"><span class="material-symbols-outlined">person</span></button>
            </div>
        </nav>


        <h2 class="titulito">LUGARES POPULARES</h2>

        <div class="cajita">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <!-- Indicadores de navegación -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                    <li data-target="#myCarousel" data-slide-to="3"></li>
                </ol>

                <!-- Imágenes del carrusel -->
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="CSS/img/principal bosque de chapultepc.jpg" alt="Bosque de Chapultepec">
                        <div class="textito">
                            <h2> BOSQUE DE CHAPULTEPEC</h2>
                            <p>
                                El bosque de Chapultepec es uno de los lugares más emblemáticos de la Ciudad de México. Es un gran parque urbano con una superficie de más de 686 hectáreas, que alberga una gran variedad de flora y fauna.
                            </p>
                            <!-- Descripción del lugar -->
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="CSS/img/principal parque la mexicana.jpg" alt="Parque La Mexicana">
                        <div class="textito">
                            <h2> PARQUE LA MEXICANA</h2>
                            <p>
                                El parque La Mexicana es un parque urbano ubicado en la delegación Miguel Hidalgo. Es un espacio de recreación y convivencia para los habitantes de la Ciudad de México.
                            </p>
                            <!-- Descripción del lugar -->
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="CSS/img/principal museo soumaya.jpg" alt="Museo Soumaya">
                        <div class="textito">
                            <h2> MUSEO SOUMAYA</h2>
                            <p>
                                El museo Soumaya es un museo de arte ubicado en la Ciudad de México. Alberga una colección de arte mexicano e internacional, que incluye obras de artistas como Miguel Ángel, Leonardo da Vinci, Picasso y Diego Rivera.
                            </p>
                            <!-- Descripción del lugar -->
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="CSS/img/principal parque bicentenario.jpg" alt="Parque Bicentenario">
                        <div class="textito">
                            <h2> PARQUE BICENTENARIO</h2>
                            <p>
                                El parque Bicentenario es un parque urbano ubicado en la delegación Iztacalco. Fue construido con motivo del bicentenario de la Independencia de México y es un espacio de recreación y cultura para los habitantes de la Ciudad de México.
                            </p>
                            <!-- Descripción del lugar -->
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                                <i class="far fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controles de navegación -->
                <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Anterior</span>
                </a>
                <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" ariahidden="true"></span>
                    <span class="sr-only">Siguiente</span>
                </a>
            </div>
        </div>

        <div class="container text-center">
            <button class="btn btn-primary mt-3" onclick="window.location.href = 'index.html'">Regresar al Menú Principal</button>
        </div>


        <div class="desliza">
            <div class="scroll" style="--t:20s">
                <div>
                    <span>viaja</span>
                    <span>descubre</span>
                    <span>experimenta</span>
                    <span>vive</span>
                    <span>encuentrate</span>
                    <span>conecta</span>
                    <span>explora</span>>
                </div>
                <div>
                    <span>viaja</span>
                    <span>descubre</span>
                    <span>experimenta</span>
                    <span>vive</span>
                    <span>encuentrate</span>
                    <span>conecta</span>
                    <span>explora</span>
                </div>
            </div>
            <div class="scroll imgbx" style="--t:25s">
                <div>
                    <img src="CSS/img/principal l.jpg">
                    <img src="CSS/img/principal 2.jpg">
                    <img src="CSS/img/principal 3.jpg">
                    <img src="CSS/img/principal 4.jpg">
                    <img src="CSS/img/principal 5.jpg">
                    <img src="CSS/img/principal 6.jpg">
                    <img src="CSS/img/principal 7.jpg">
                    <img src="CSS/img/principal 8.jpg">
                    <img src="CSS/img/principal 9.jpg">
                </div>
                <div>
                    <img src="CSS/img/principal l.jpg">
                    <img src="CSS/img/principal 2.jpg">
                    <img src="CSS/img/principal 3.jpg">
                    <img src="CSS/img/principal 4.jpg">
                    <img src="CSS/img/principal 5.jpg">
                    <img src="CSS/img/principal 6.jpg">
                    <img src="CSS/img/principal 7.jpg">
                    <img src="CSS/img/principal 8.jpg">
                    <img src="CSS/img/principal 9.jpg">
                </div>
            </div>
        </div>
        <h1>Ubicaciones Recomendadas:</h1>

        <!-- Lista para mostrar los detalles de las ubicaciones -->
        <><ul id="ubicacionesList"></ul>

        <div id="noRecomendaciones" style="text-align: center; margin-top: 20px; font-size: 18px;">
            <img src="CSS/recomendaciones/caratriste.png" alt="Cara Triste" style="width: 50px;">
            <p>¡Oh no! Ya no tenemos más recomendaciones para ti.</p>
        </div>


        <script>
            // Función para obtener parámetros de consulta de la URL
            function getParameterByName(name, url) {
                if (!url)
                    url = window.location.href;
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                        results = regex.exec(url);
                if (!results)
                    return null;
                if (!results[2])
                    return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }

            // Obtener nombres de ubicaciones de la URL
            var ubicacionesNombresParam = getParameterByName('ubicacionesNombres');
            var ubicacionesNombresArray = ubicacionesNombresParam ? ubicacionesNombresParam.split(',') : [];

            // Obtener detalles de ubicaciones de la URL
            var costoFigParam = getParameterByName('ubicacionesCostos');
            var tiempoFigParam = getParameterByName('ubicacionesTiempos');
            var puntuacionPromParam = getParameterByName('ubicacionesPuntuaciones');
            var descripcionParam = getParameterByName('ubicacionesDescripciones');

            var costoFigArray = costoFigParam ? costoFigParam.split(',') : [];
            var tiempoFigArray = tiempoFigParam ? tiempoFigParam.split(',') : [];
            var puntuacionPromArray = puntuacionPromParam ? puntuacionPromParam.split(',') : [];
            var descripcionArray = descripcionParam ? descripcionParam.split(',') : [];

            // Mostrar los detalles de las ubicaciones en la lista
            document.addEventListener('DOMContentLoaded', function () {
                var ubicacionesList = document.getElementById('ubicacionesList');

                for (var i = 0; i < ubicacionesNombresArray.length; i++) {
                    // Crear un elemento de botón en lugar de un elemento de lista
                    var button = document.createElement('button');
                    button.innerHTML = "<strong>Nombre:</strong> " + ubicacionesNombresArray[i] + "<br>" +
                            "<strong>Costo:</strong> " + costoFigArray[i] + "<br>" +
                            "<strong>Tiempo:</strong> " + tiempoFigArray[i] + "<br>" +
                            "<strong>Puntuación Promedio:</strong> " + puntuacionPromArray[i] + "<br>" +
                            "<strong>Descripción:</strong> " + descripcionArray[i] + "<br><br>";

                    // Agregar imagen con el nombre de la ubicación
                    var img = document.createElement('img');
                    img.src = 'CSS/recomendaciones/' + ubicacionesNombresArray[i].toLowerCase().replace(/\s/g, '') + '.jpg';
                    img.alt = ubicacionesNombresArray[i] + ' Image';
                    button.appendChild(img);

                    // Agregar evento de clic para redirigir al HTML correspondiente
                    button.addEventListener('click', function (locationName) {
                        return function () {
                            window.location.href = 'ubicaciones/' + locationName + '.html';
                        };
                    }(ubicacionesNombresArray[i]));

                    ubicacionesList.appendChild(button);
                }
            });
        </script>
    </body>
</html>
